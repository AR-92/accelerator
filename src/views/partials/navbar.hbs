<!-- Navbar based on main page header -->
<header
  id='navbar-container'
  class='h-14 border-b border-border bg-background flex items-center justify-between px-4 p-2'
>
  <div class='flex items-center gap-4'>
    <div class='flex items-center navbar-logo-section'>
      <img src='/images/favcon.svg' alt='Accelerator Logo' class='h-8 w-8' />
    </div>
    <button
      id='navbar-sidebar-toggle'
      class='h-9 w-9 flex items-center justify-center hover:bg-muted rounded-md transition-colors navbar-expand-icon'
    >
      <svg
        xmlns='http://www.w3.org/2000/svg'
        width='24'
        height='24'
        viewBox='0 0 24 24'
        fill='none'
        stroke='currentColor'
        stroke-width='2'
        stroke-linecap='round'
        stroke-linejoin='round'
        class='lucide lucide-panel-left h-4 w-4'
      >
        <rect width='18' height='18' x='3' y='3' rx='2'></rect>
        <path d='M9 3v18'></path>
        <path d='m14 9 3 3-3 3'></path>
      </svg>
    </button>
    <div class='h-6 w-px bg-border mx-2 navbar-divider'></div>
    <nav class='flex items-center gap-6 ml-8'>
      {{#if (eq user.role 'startup')}}
      <a
        href='/pages/dashboard'
        class='text-sm text-muted-foreground hover:text-foreground transition-colors'
      >Dashboard</a>
      {{/if}}
      {{#if (eq user.role 'enterprise')}}
      <a
        href='/pages/enterprise-dashboard'
        class='text-sm text-muted-foreground hover:text-foreground transition-colors'
      >Enterprise</a>
      {{/if}}
      {{#if (eq user.role 'corporate')}}
      <a
        href='/pages/corporate-dashboard'
        class='text-sm text-muted-foreground hover:text-foreground transition-colors'
      >Corporate</a>
      {{/if}}
      <a
        href='/pages/portfolio'
        class='text-sm text-muted-foreground hover:text-foreground transition-colors'
      >Portfolio</a>
      <a
        href='/pages/collaborate'
        class='text-sm text-muted-foreground hover:text-foreground transition-colors'
      >Collaborate</a>
    </nav>
  </div>
  <div class='flex items-center gap-2'>
    <div class='relative' id='navbar-grid-dropdown'>
      <button
        type='button'
        class='h-9 w-9 flex items-center justify-center hover:bg-muted rounded-md transition-colors'
      >
        <svg
          xmlns='http://www.w3.org/2000/svg'
          width='24'
          height='24'
          viewBox='0 0 24 24'
          fill='none'
          stroke='currentColor'
          stroke-width='2'
          stroke-linecap='round'
          stroke-linejoin='round'
          class='lucide lucide-grid3x3 h-4 w-4'
        >
          <rect width='18' height='18' x='3' y='3' rx='2'></rect>
          <path d='M3 9h18'></path>
          <path d='M3 15h18'></path>
          <path d='M9 3v18'></path>
          <path d='M15 3v18'></path>
        </svg>
      </button>
      <div
        class='absolute right-0 z-50 mt-2 w-48 origin-top-right rounded-md border bg-white dark:bg-gray-800 p-4 text-popover-foreground shadow-lg hidden opacity-0 invisible transition-all duration-200'
      >
        <div class='grid grid-cols-2 gap-4'>
          <div
            class='flex flex-col items-center p-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer'
          >
            <svg
              width='24'
              height='27'
              viewBox='0 0 33 36'
              fill='none'
              xmlns='http://www.w3.org/2000/svg'
              class='h-6 w-6 transition-transform hover:scale-105'
            >
              <path
                d='M31.6035 7.28044C31.1951 7.03803 30.7235 7.06833 30.3421 7.35872L26.4519 10.3182C25.9036 10.7348 25.5764 11.4317 25.5764 12.1868V21.1636C25.5764 24.2695 23.7757 26.9638 21.1966 27.7138L6.895 31.8726V14.5099C6.895 11.7171 8.5129 9.29549 10.8326 8.62128L31.4004 2.64179C31.9126 2.4928 32.2714 1.9701 32.2714 1.37165C32.2714 1.01561 32.1405 0.672189 31.9149 0.424727C31.687 0.177265 31.3823 0.0510083 31.0777 0.0611088L27.8352 0.177265C26.7972 0.215142 25.7615 0.3818 24.7551 0.674714L7.27635 5.75527C3.11314 6.9648 0.206787 11.2853 0.206787 16.2598V32.8423C0.206787 33.7033 0.716752 34.4508 1.44785 34.6629L5.68553 35.8876C5.8164 35.9255 5.95405 35.9457 6.09169 35.9457C6.22934 35.9457 6.36698 35.9255 6.49786 35.8876L24.8792 30.5444C29.2342 29.2793 32.2759 24.7594 32.2759 19.5526V8.52785C32.2759 8.00263 32.0209 7.52538 31.6103 7.28297L31.6035 7.28044Z'
                fill='#9E28B5'
              />
            </svg>
            <div
              class='text-xs text-center mt-1 text-gray-700 dark:text-gray-300'
            >Accelerator</div>
          </div>
          <div
            class='flex flex-col items-center p-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer'
          >
            <svg
              width='24'
              height='27'
              viewBox='0 0 33 36'
              fill='none'
              xmlns='http://www.w3.org/2000/svg'
              class='h-6 w-6 transition-transform hover:scale-105'
            >
              <path
                d='M31.6035 7.28044C31.1951 7.03803 30.7235 7.06833 30.3421 7.35872L26.4519 10.3182C25.9036 10.7348 25.5764 11.4317 25.5764 12.1868V21.1636C25.5764 24.2695 23.7757 26.9638 21.1966 27.7138L6.895 31.8726V14.5099C6.895 11.7171 8.5129 9.29549 10.8326 8.62128L31.4004 2.64179C31.9126 2.4928 32.2714 1.9701 32.2714 1.37165C32.2714 1.01561 32.1405 0.672189 31.9149 0.424727C31.687 0.177265 31.3823 0.0510083 31.0777 0.0611088L27.8352 0.177265C26.7972 0.215142 25.7615 0.3818 24.7551 0.674714L7.27635 5.75527C3.11314 6.9648 0.206787 11.2853 0.206787 16.2598V32.8423C0.206787 33.7033 0.716752 34.4508 1.44785 34.6629L5.68553 35.8876C5.8164 35.9255 5.95405 35.9457 6.09169 35.9457C6.22934 35.9457 6.36698 35.9255 6.49786 35.8876L24.8792 30.5444C29.2342 29.2793 32.2759 24.7594 32.2759 19.5526V8.52785C32.2759 8.00263 32.0209 7.52538 31.6103 7.28297L31.6035 7.28044Z'
                fill='#FFFF00'
              />
            </svg>
            <div
              class='text-xs text-center mt-1 text-gray-700 dark:text-gray-300'
            >Studio</div>
          </div>
          <div
            class='flex flex-col items-center p-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer'
          >
            <svg
              width='24'
              height='27'
              viewBox='0 0 33 36'
              fill='none'
              xmlns='http://www.w3.org/2000/svg'
              class='h-6 w-6 transition-transform hover:scale-105'
            >
              <path
                d='M31.6035 7.28044C31.1951 7.03803 30.7235 7.06833 30.3421 7.35872L26.4519 10.3182C25.9036 10.7348 25.5764 11.4317 25.5764 12.1868V21.1636C25.5764 24.2695 23.7757 26.9638 21.1966 27.7138L6.895 31.8726V14.5099C6.895 11.7171 8.5129 9.29549 10.8326 8.62128L31.4004 2.64179C31.9126 2.4928 32.2714 1.9701 32.2714 1.37165C32.2714 1.01561 32.1405 0.672189 31.9149 0.424727C31.687 0.177265 31.3823 0.0510083 31.0777 0.0611088L27.8352 0.177265C26.7972 0.215142 25.7615 0.3818 24.7551 0.674714L7.27635 5.75527C3.11314 6.9648 0.206787 11.2853 0.206787 16.2598V32.8423C0.206787 33.7033 0.716752 34.4508 1.44785 34.6629L5.68553 35.8876C5.8164 35.9255 5.95405 35.9457 6.09169 35.9457C6.22934 35.9457 6.36698 35.9255 6.49786 35.8876L24.8792 30.5444C29.2342 29.2793 32.2759 24.7594 32.2759 19.5526V8.52785C32.2759 8.00263 32.0209 7.52538 31.6103 7.28297L31.6035 7.28044Z'
                fill='#32CD32'
              />
            </svg>
            <div
              class='text-xs text-center mt-1 text-gray-700 dark:text-gray-300'
            >Venture</div>
          </div>
          <div
            class='flex flex-col items-center p-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer'
          >
            <svg
              width='24'
              height='27'
              viewBox='0 0 33 36'
              fill='none'
              xmlns='http://www.w3.org/2000/svg'
              class='h-6 w-6 transition-transform hover:scale-105'
            >
              <path
                d='M31.6035 7.28044C31.1951 7.03803 30.7235 7.06833 30.3421 7.35872L26.4519 10.3182C25.9036 10.7348 25.5764 11.4317 25.5764 12.1868V21.1636C25.5764 24.2695 23.7757 26.9638 21.1966 27.7138L6.895 31.8726V14.5099C6.895 11.7171 8.5129 9.29549 10.8326 8.62128L31.4004 2.64179C31.9126 2.4928 32.2714 1.9701 32.2714 1.37165C32.2714 1.01561 32.1405 0.672189 31.9149 0.424727C31.687 0.177265 31.3823 0.0510083 31.0777 0.0611088L27.8352 0.177265C26.7972 0.215142 25.7615 0.3818 24.7551 0.674714L7.27635 5.75527C3.11314 6.9648 0.206787 11.2853 0.206787 16.2598V32.8423C0.206787 33.7033 0.716752 34.4508 1.44785 34.6629L5.68553 35.8876C5.8164 35.9255 5.95405 35.9457 6.09169 35.9457C6.22934 35.9457 6.36698 35.9255 6.49786 35.8876L24.8792 30.5444C29.2342 29.2793 32.2759 24.7594 32.2759 19.5526V8.52785C32.2759 8.00263 32.0209 7.52538 31.6103 7.28297L31.6035 7.28044Z'
                fill='#87CEEB'
              />
            </svg>
            <div
              class='text-xs text-center mt-1 text-gray-700 dark:text-gray-300'
            >Services</div>
          </div>
        </div>
      </div>
    </div>
    <button
      id='navbar-theme-toggle'
      class='h-9 w-9 flex items-center justify-center hover:bg-muted rounded-md transition-colors'
    >
      <svg
        xmlns='http://www.w3.org/2000/svg'
        width='24'
        height='24'
        viewBox='0 0 24 24'
        fill='none'
        stroke='currentColor'
        stroke-width='2'
        stroke-linecap='round'
        stroke-linejoin='round'
        class='lucide lucide-sun h-4 w-4 hidden dark:block'
      >
        <circle cx='12' cy='12' r='4'></circle>
        <path d='M12 2v2'></path>
        <path d='M12 20v2'></path>
        <path d='m4.93 4.93 1.41 1.41'></path>
        <path d='m17.66 17.66 1.41 1.41'></path>
        <path d='M2 12h2'></path>
        <path d='M20 12h2'></path>
        <path d='m6.34 17.66-1.41 1.41'></path>
        <path d='m19.07 4.93-1.41 1.41'></path>
      </svg>
      <svg
        xmlns='http://www.w3.org/2000/svg'
        width='24'
        height='24'
        viewBox='0 0 24 24'
        fill='none'
        stroke='currentColor'
        stroke-width='2'
        stroke-linecap='round'
        stroke-linejoin='round'
        class='lucide lucide-moon h-4 w-4 block dark:hidden'
      >
        <path d='M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z'></path>
      </svg>
    </button>
    <a
      href='/pages/notifications'
      class='h-9 w-9 flex items-center justify-center hover:bg-muted rounded-md transition-colors'
    >
      <svg
        xmlns='http://www.w3.org/2000/svg'
        width='24'
        height='24'
        viewBox='0 0 24 24'
        fill='none'
        stroke='currentColor'
        stroke-width='2'
        stroke-linecap='round'
        stroke-linejoin='round'
        class='lucide lucide-bell h-4 w-4'
      >
        <path d='M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9'></path>
        <path d='M10.3 21a1.94 1.94 0 0 0 3.4 0'></path>
      </svg>
    </a>
    <div class='relative' id='navbar-user-profile-dropdown'>
       <button
         type='button'
         class='flex items-center gap-2 h-9 px-3 rounded-md hover:bg-muted transition-colors'
       >
         <span
           class='relative flex size-6 shrink-0 overflow-hidden rounded-full bg-purple-500 dark:bg-purple-600 text-white items-center justify-center text-xs font-bold'
         >{{userInitials user}}</span>
         <div class='hidden @sm:block text-left'>
           <div class='text-sm font-medium'>{{userFullName user}}</div>
           <div class='text-xs text-muted-foreground'>{{user.email}}</div>
         </div>
        <svg
          xmlns='http://www.w3.org/2000/svg'
          width='24'
          height='24'
          viewBox='0 0 24 24'
          fill='none'
          stroke='currentColor'
          stroke-width='2'
          stroke-linecap='round'
          stroke-linejoin='round'
          class='lucide lucide-chevron-down mr-2 h-4 w-4 transition-transform duration-200'
        >
          <path d='m6 9 6 6 6-6'></path>
        </svg>
      </button>
      <div
        class='absolute right-0 z-50 mt-2 w-72 origin-top-right rounded-md border bg-gray-50 dark:bg-gray-800 p-1 text-popover-foreground shadow-lg hidden opacity-0 invisible transition-all duration-200'
      >
         <div class='p-1' role='none'>
           <!-- User profile section -->
           <div class='flex items-center gap-2 px-2 py-2 text-left text-sm'>
             <span
               class='relative flex size-8 shrink-0 overflow-hidden h-8 w-8 rounded-full bg-purple-500 dark:bg-purple-600 text-white items-center justify-center text-xs font-bold'
             >{{userInitials user}}</span>
             <div class='grid flex-1 text-left text-sm leading-tight'>
               <span class='truncate font-medium'>{{userFullName user}}</span>
               <span class='truncate text-xs'>{{user.email}}</span>
             </div>
           </div>

          <!-- Separator -->
          <div class='bg-border -mx-1 my-1 h-px'></div>

          <!-- Upgrade to Pro item -->
          <a
            href='/pages/core/upgrade-plan'
            class='relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors hover:bg-accent hover:text-accent-foreground'
          >
            {{lucide 'Sparkles' 'mr-2 h-4 w-4'}}
            Upgrade to Pro
          </a>

          <!-- Separator -->
          <div class='bg-border -mx-1 my-1 h-px'></div>

          <!-- Account group -->
          <div role='group' class='p-1'>
            <!-- Settings Dashboard item -->
            <a
              href='/pages/settings'
              class='relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors hover:bg-accent hover:text-accent-foreground'
            >
              {{lucide 'Settings' 'mr-2 h-4 w-4'}}
              Settings Dashboard
            </a>

            <!-- Account item -->
            <a
              href='/pages/settings/profile'
              class='relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors hover:bg-accent hover:text-accent-foreground'
            >
              {{lucide 'BadgeCheck' 'mr-2 h-4 w-4'}}
              Account
            </a>

            <!-- Billing item -->
            <a
              href='/pages/settings/billing'
              class='relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors hover:bg-accent hover:text-accent-foreground'
            >
              {{lucide 'CreditCard' 'mr-2 h-4 w-4'}}
              Billing
            </a>

            <!-- Settings item -->
            <a
              href='/pages/settings/other'
              class='relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors hover:bg-accent hover:text-accent-foreground'
            >
              {{lucide 'Lock' 'mr-2 h-4 w-4'}}
              Other Settings
            </a>
          </div>

           <!-- Separator -->
           <div class='bg-border -mx-1 my-1 h-px'></div>

           {{#if originalUser}}
           <!-- Switch Back item -->
           <a
             href='/auth/switch-back'
             class='relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors hover:bg-accent hover:text-accent-foreground'
           >
             {{lucide 'ArrowLeft' 'mr-2 h-4 w-4'}}
             Switch Back to Admin
           </a>

           <!-- Separator -->
           <div class='bg-border -mx-1 my-1 h-px'></div>
           {{/if}}

           <!-- Log out item -->
           <a
             href='/auth/logout'
             class='relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors hover:bg-accent hover:text-accent-foreground'
           >
             {{lucide 'LogOut' 'mr-2 h-4 w-4'}}
             Log out
           </a>
        </div>
      </div>
    </div>
  </div>
</header>
<script src='/js/navbar.js'></script>