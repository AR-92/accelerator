{{#if (gt totalPages 1)}}
<div class="flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200 sm:px-6">
  <div class="flex justify-between flex-1 sm:hidden">
    {{#if (gt currentPage 1)}}
    <a href="{{baseUrl}}?page={{subtract currentPage 1}}{{queryParams}}" class="relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50">
      Previous
    </a>
    {{else}}
    <span class="relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-400 bg-gray-100 border border-gray-300 rounded-md cursor-not-allowed">
      Previous
    </span>
    {{/if}}

    {{#if (lt currentPage totalPages)}}
    <a href="{{baseUrl}}?page={{add currentPage 1}}{{queryParams}}" class="relative ml-3 inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50">
      Next
    </a>
    {{else}}
    <span class="relative ml-3 inline-flex items-center px-4 py-2 text-sm font-medium text-gray-400 bg-gray-100 border border-gray-300 rounded-md cursor-not-allowed">
      Next
    </span>
    {{/if}}
  </div>

  <div class="hidden sm:flex sm:flex-1 sm:items-center sm:justify-between">
    <div>
      <p class="text-sm text-gray-700">
        Showing page <span class="font-medium">{{currentPage}}</span> of <span class="font-medium">{{totalPages}}</span>
      </p>
    </div>
    <div>
      <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px" aria-label="Pagination">
        {{#if (gt currentPage 1)}}
        <a href="{{baseUrl}}?page={{subtract currentPage 1}}{{queryParams}}" class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
          <span class="sr-only">Previous</span>
          {{lucide 'ChevronLeft' 'w-5 h-5'}}
        </a>
        {{else}}
        <span class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-gray-100 text-sm font-medium text-gray-400 cursor-not-allowed">
          <span class="sr-only">Previous</span>
          {{lucide 'ChevronLeft' 'w-5 h-5'}}
        </span>
        {{/if}}

        {{#each pages}}
        {{#if (eq this currentPage)}}
        <span class="relative inline-flex items-center px-4 py-2 border border-primary bg-primary text-sm font-medium text-white">{{this}}</span>
        {{else}}
        <a href="{{../baseUrl}}?page={{this}}{{../queryParams}}" class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50">{{this}}</a>
        {{/if}}
        {{/each}}

        {{#if (lt currentPage totalPages)}}
        <a href="{{baseUrl}}?page={{add currentPage 1}}{{queryParams}}" class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
          <span class="sr-only">Next</span>
          {{lucide 'ChevronRight' 'w-5 h-5'}}
        </a>
        {{else}}
        <span class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-gray-100 text-sm font-medium text-gray-400 cursor-not-allowed">
          <span class="sr-only">Next</span>
          {{lucide 'ChevronRight' 'w-5 h-5'}}
        </span>
        {{/if}}
      </nav>
    </div>
  </div>
</div>
{{/if}}