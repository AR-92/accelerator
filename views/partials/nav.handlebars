<!-- Top Navigation Bar -->
<nav class="bg-card text-card-foreground px-2 sm:px-4 border-b border-border flex items-center justify-between min-h-12">
    <div class="flex items-center gap-2 sm:gap-4">
        <div class="h-6 w-6 ml-1 mr-4 sm:mr-6 text-primary"><svg xmlns="http://www.w3.org/2000/svg" width="33" height="36" viewBox="0 0 33 36"
         fill="none" class="h-full w-full">
         <path
           d="M31.6035 7.28044C31.1951 7.03803 30.7235 7.06833 30.3421 7.35872L26.4519 10.3182C25.9036 10.7348 25.5764 11.4317 25.5764 12.1868V21.1636C25.5764 24.2695 23.7757 26.9638 21.1966 27.7138L6.895 31.8726V14.5099C6.895 11.7171 8.5129 9.29549 10.8326 8.62128L31.4004 2.64179C31.9126 2.4928 32.2714 1.9701 32.2714 1.37165C32.2714 1.01561 32.1405 0.672189 31.9149 0.424727C31.687 0.177265 31.3823 0.0510083 31.0777 0.0611088L27.8352 0.177265C26.7972 0.215142 25.7615 0.3818 24.7551 0.674714L7.27635 5.75527C3.11314 6.9648 0.206787 11.2853 0.206787 16.2598V32.8423C0.206787 33.7033 0.716752 34.4508 1.44785 34.6629L5.68553 35.8876C5.8164 35.9255 5.95405 35.9457 6.09169 35.9457C6.22934 35.9457 6.36698 35.9255 6.49786 35.8876L24.8792 30.5444C29.2342 29.2793 32.2759 24.7594 32.2759 19.5526V8.52785C32.2759 8.00263 32.0209 7.52538 31.6103 7.28297L31.6035 7.28044Z"
           fill="currentColor" />
       </svg></div>

        <div class="hidden md:flex items-center gap-2 sm:gap-4">
{{> nav-item section="main" text="Main"}}
{{> nav-item section="content-management" text="Content"}}
{{> nav-item section="system" text="System"}}
{{> nav-item section="business" text="Business"}}
{{> nav-item section="learning" text="Learning"}}
{{> nav-item section="projects" text="Projects"}}
{{> nav-item section="help" text="Help"}}
{{> nav-item section="financial" text="Financial"}}
        </div>
      </div>
  <div class="flex">
     <div class="h-12 w-px bg-border mr-4"></div>
      <div class="self-center mr-2 sm:mr-4">
        <label class="relative block">
          <span class="sr-only">Search</span>
               <input class="w-40 sm:w-64 pl-3 sm:pl-4 pr-3 sm:pr-4 py-1.5 rounded-md placeholder:text-xs sm:placeholder:text-sm text-foreground bg-transparent focus:outline-none"
                placeholder="Search {{#if isTablePage}}{{currentPage}}{{else}}here{{/if}} ..." aria-label="Search" id="navSearchInput" name="search" value="{{query.search}}"
                {{#if isTablePage}}hx-get="/admin/table-pages/{{currentPage}}" hx-trigger="keyup changed delay:300ms" hx-target="#{{currentPage}}TableContainer"{{/if}} />
       </label>
      </div>
       <!-- Theme Toggle Button -->
         <button id="theme-toggle" class="ml-4 text-muted-foreground hover:text-primary rounded-full p-2 cursor-pointer font-medium" onclick="toggleTheme()">
          <span id="theme-icon"></span>
         </button>

      <!-- User Menu -->
      <div class="relative self-center" id="admin-user-menu">
       <button onclick="toggleUserMenu()"
         class="flex items-center gap-3 h-10 px-3 rounded-xl transition-all duration-200 hover:text-primary cursor-pointer"
         id="admin-user-menu-button">
         <div class="hidden md:flex flex-col items-start min-w-0">
           <span class="text-sm font-bold text-foreground leading-tight truncate max-w-32" id="user-name">Loading...</span>
           <span class="text-xs text-muted-foreground leading-tight flex items-center gap-1.5">
             <div class="w-2 h-2 bg-emerald-500 rounded-full animate-pulse"></div>
             Administrator
           </span>
         </div>
        <div
          class="flex items-center justify-center w-5 h-5 rounded-md hover:bg-muted/50 transition-colors duration-200"
          id="admin-user-menu-arrow">

           {{{icon 'chevron-down' size='12' class='w-3 h-3 text-muted-foreground'}}}

        </div>
      </button>

       <!-- User Dropdown -->
       <div
         class="absolute right-0 mt-2 w-64 bg-popover backdrop-blur-sm border border-border rounded-xl shadow-xl z-30 transition-all duration-200 opacity-0 invisible hidden"
         id="admin-user-dropdown">
         <div class="p-2">

{{#> dropdown-item href="/admin/other-pages/profile-settings" text="Profile Settings"}}{{{icon 'settings' size='16' class='w-4 h-4'}}}{{/dropdown-item}}
{{#> dropdown-item href="/admin/other-pages/settings" text="Admin Settings"}}{{{icon 'settings' size='16' class='w-4 h-4'}}}{{/dropdown-item}}
{{#> dropdown-item href="/admin/other-pages/system-health" text="System Health"}}{{{icon 'activity' size='16' class='w-4 h-4'}}}{{/dropdown-item}}
{{#> dropdown-item href="/admin/other-pages/notifications" text="Notifications"}}{{{icon 'bell' size='16' class='w-4 h-4'}}}{{/dropdown-item}}
 {{#> dropdown-item href="/admin/other-pages/activity" text="Activity Log"}}{{{icon 'activity' size='16' class='w-4 h-4'}}}{{/dropdown-item}}
             <div class="border-t border-border/50 my-2"></div>
              <button onclick="handleLogout()"
                class="w-full flex items-center gap-3 px-3 py-2.5 text-sm text-destructive hover:bg-destructive/10 rounded-lg transition-colors">

                {{{icon 'log-out' size='16' class='w-4 h-4'}}}

                <span>Logout</span>
              </button>
         </div>
       </div>
     </div>
   </div>
  </nav>
