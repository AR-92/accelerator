{{!-- Reusable AI Message Component --}}
{{!-- Parameters:
  - message: The message text (supports HTML for rich formatting)
  - time: Timestamp string
  - name: AI name (default: iGate Accelerator)
  - subtitle: Subtitle (default: AI Assistant)
  - avatarSrc: Avatar image source (default: /images/favcon.svg)
  - status: Status text (default: Sent)
  - topic: Topic header for the message (optional)
--}}
<article class='flex' role='region' aria-label='AI message'>
  <div class='w-auto max-w-full'>
    <div class='bg-muted rounded-2xl p-4 shadow-lg border border-border hover:shadow-xl transition-all duration-300 w-fit'>
      <header class='flex items-center gap-2 mb-3'>
        <div class='relative'>
          <div class='text-primary-foreground flex aspect-square size-8 items-center justify-center rounded-lg flex-shrink-0' aria-label='AI avatar'>
            <img src='{{avatarSrc}}' alt='Logo' class='size-6' />
          </div>
        </div>
        <div>
          <div class='text-sm font-semibold text-foreground'>{{name}}</div>
          <div class='text-xs text-muted-foreground'>{{subtitle}}</div>
        </div>
      </header>
      {{#if topic}}
      <div class='mb-2'>
        <h3 class='text-sm font-semibold text-primary bg-primary/10 rounded-md px-2 py-1 inline-block'>{{topic}}</h3>
      </div>
      {{/if}}
      <section class='bg-background/50 rounded-lg p-3 mb-2 border border-border/50 relative' aria-label='Message content'>
        <p class='text-foreground m-0'>
          {{{message}}}
        </p>

      </section>
      <footer class='flex items-center justify-between mt-2'>
        <div class='text-xs text-muted-foreground font-medium flex items-center gap-1'>
          {{lucide 'Clock' 'w-3 h-3'}}
          <time datetime='{{time}}'>{{time}}</time>
        </div>
        <button class='h-8 w-8 flex items-center justify-center hover:bg-muted rounded-md transition-colors' title='Translate to Spanish' aria-label='Translate message'>
          {{lucide 'Languages' 'w-4 h-4'}}
        </button>
      </footer>
    </div>
  </div>
</article>