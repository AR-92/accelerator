<div class='flex flex-col gap-8'>
  <!-- Breadcrumb Navigation -->
  <nav class='flex items-center gap-2 text-sm text-muted-foreground'>
    <a href='/pages/help' class='hover:text-foreground transition-colors'>Help
      Center</a>
    <span>/</span>
    <a
      href='/pages/help/{{article.categorySlug}}'
      class='hover:text-foreground transition-colors'
    >{{article.categoryName}}</a>
    <span>/</span>
    <span class='text-foreground'>{{article.title}}</span>
  </nav>

  <!-- Article Header -->
  <article
    class='bg-card rounded-xl shadow-sm border border-border overflow-hidden'
  >
    <header
      class='p-8 lg:p-12 bg-gradient-to-br from-primary/5 to-transparent border-b border-border'
    >
      <div class='max-w-4xl mx-auto'>
        <!-- Article Meta -->
        <div class='flex flex-wrap items-center gap-3 mb-6'>
          <span
            class='px-4 py-2 bg-primary/10 text-primary text-sm font-medium rounded-full border border-primary/20'
          >
            {{article.difficultyLevel}}
          </span>
          <div class='flex items-center gap-2 text-muted-foreground'>
            <svg
              class='w-4 h-4'
              fill='none'
              stroke='currentColor'
              viewBox='0 0 24 24'
            >
              <path
                stroke-linecap='round'
                stroke-linejoin='round'
                stroke-width='2'
                d='M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z'
              ></path>
            </svg>
            <span class='text-sm'>{{article.readTimeMinutes}} min read</span>
          </div>
          <div class='flex items-center gap-2 text-muted-foreground'>
            <svg
              class='w-4 h-4'
              fill='none'
              stroke='currentColor'
              viewBox='0 0 24 24'
            >
              <path
                stroke-linecap='round'
                stroke-linejoin='round'
                stroke-width='2'
                d='M15 12a3 3 0 11-6 0 3 3 0 016 0z'
              ></path>
              <path
                stroke-linecap='round'
                stroke-linejoin='round'
                stroke-width='2'
                d='M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z'
              ></path>
            </svg>
            <span class='text-sm'>{{article.viewCount}} views</span>
          </div>
        </div>

        <!-- Article Title -->
        <h1
          class='text-4xl lg:text-5xl font-bold text-foreground mb-6 leading-tight'
        >{{article.title}}</h1>

        <!-- Article Excerpt -->
        {{#if article.excerpt}}
          <p
            class='text-xl text-muted-foreground mb-8 leading-relaxed max-w-3xl'
          >{{article.excerpt}}</p>
        {{/if}}

        <!-- Author Info -->
        <div class='flex items-center gap-4'>
          {{#if article.authorImage}}
            <img
              src='{{article.authorImage}}'
              alt='{{article.authorName}}'
              class='w-14 h-14 rounded-full border-2 border-border'
            />
          {{else}}
            <div
              class='w-14 h-14 rounded-full bg-primary/10 border-2 border-primary/20 flex items-center justify-center'
            >
              <svg
                class='w-7 h-7 text-primary'
                fill='none'
                stroke='currentColor'
                viewBox='0 0 24 24'
              >
                <path
                  stroke-linecap='round'
                  stroke-linejoin='round'
                  stroke-width='2'
                  d='M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z'
                ></path>
              </svg>
            </div>
          {{/if}}
          <div>
            <p
              class='font-semibold text-foreground text-lg'
            >{{article.authorName}}</p>
            {{#if article.authorBio}}
              <p class='text-muted-foreground'>{{article.authorBio}}</p>
            {{/if}}
          </div>
        </div>
      </div>
    </header>

    <!-- Article Content -->
    <div class='p-8 lg:p-12'>
      <div class='max-w-4xl mx-auto'>
        <div class='prose prose-xl max-w-none dark:prose-invert'>
          {{{article.content}}}
        </div>

        <!-- Article Tags -->
        {{#if article.tags}}
          <div class='mt-12 pt-8 border-t border-border'>
            <h3
              class='text-lg font-semibold text-foreground mb-4 flex items-center gap-2'
            >
              <svg
                class='w-5 h-5'
                fill='none'
                stroke='currentColor'
                viewBox='0 0 24 24'
              >
                <path
                  stroke-linecap='round'
                  stroke-linejoin='round'
                  stroke-width='2'
                  d='M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z'
                ></path>
              </svg>
              Related Topics
            </h3>
            <div class='flex flex-wrap gap-3'>
              {{#each article.tags}}
                <span
                  class='px-4 py-2 bg-muted/50 hover:bg-muted text-muted-foreground hover:text-foreground text-sm rounded-full border border-border transition-colors cursor-pointer'
                >
                  #{{this}}
                </span>
              {{/each}}
            </div>
          </div>
        {{/if}}
      </div>
    </div>
  </article>

  <!-- Related Articles -->
  {{#if relatedArticles}}
    <section class='bg-card p-8 rounded-xl shadow-sm border border-border'>
      <div class='max-w-6xl mx-auto'>
        <h3
          class='text-2xl font-bold text-foreground mb-8 flex items-center gap-3'
        >
          <svg
            class='w-6 h-6 text-primary'
            fill='none'
            stroke='currentColor'
            viewBox='0 0 24 24'
          >
            <path
              stroke-linecap='round'
              stroke-linejoin='round'
              stroke-width='2'
              d='M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10'
            ></path>
          </svg>
          You Might Also Like
        </h3>
        <div class='grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6'>
          {{#each relatedArticles}}
            <a
              href='/pages/help/article/{{slug}}'
              class='group p-6 rounded-xl border border-border hover:border-primary/30 hover:shadow-md transition-all duration-200 bg-gradient-to-br from-transparent to-muted/20'
            >
              <div class='flex items-start gap-4 mb-4'>
                <div
                  class='w-12 h-12 rounded-lg bg-primary/10 group-hover:bg-primary/20 flex items-center justify-center flex-shrink-0 transition-colors'
                >
                  <svg
                    class='w-6 h-6 text-primary'
                    fill='none'
                    stroke='currentColor'
                    viewBox='0 0 24 24'
                  >
                    <path
                      stroke-linecap='round'
                      stroke-linejoin='round'
                      stroke-width='2'
                      d='M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z'
                    ></path>
                  </svg>
                </div>
                <div class='flex-1 min-w-0'>
                  <h4
                    class='font-semibold text-foreground mb-2 group-hover:text-primary transition-colors line-clamp-2'
                  >{{title}}</h4>
                  <p
                    class='text-sm text-muted-foreground line-clamp-3'
                  >{{excerpt}}</p>
                  <div
                    class='flex items-center gap-3 mt-3 text-xs text-muted-foreground'
                  >
                    <span>{{readTimeMinutes}} min read</span>
                    <span>•</span>
                    <span>{{difficultyLevel}}</span>
                  </div>
                </div>
              </div>
            </a>
          {{/each}}
        </div>
      </div>
    </section>
  {{/if}}

  <!-- Article Actions -->
  <div class='flex flex-col sm:flex-row gap-4 justify-center items-center'>
    <button
      class='flex items-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-medium'
    >
      <svg
        class='w-5 h-5'
        fill='none'
        stroke='currentColor'
        viewBox='0 0 24 24'
      >
        <path
          stroke-linecap='round'
          stroke-linejoin='round'
          stroke-width='2'
          d='M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z'
        ></path>
      </svg>
      Share This Article
    </button>
    <a
      href='/pages/help'
      class='flex items-center gap-2 px-6 py-3 border border-border rounded-lg hover:bg-muted transition-colors font-medium'
    >
      <svg
        class='w-5 h-5'
        fill='none'
        stroke='currentColor'
        viewBox='0 0 24 24'
      >
        <path
          stroke-linecap='round'
          stroke-linejoin='round'
          stroke-width='2'
          d='M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6'
        ></path>
      </svg>
      Back to Help Center
    </a>
  </div>
</div>

<style>
  /* Enhanced Typography for Better Readability */
  .prose {
    color: hsl(var(--foreground));
    line-height: 1.8;
    font-size: 1.125rem;
  }

  .prose h1,
  .prose h2,
  .prose h3,
  .prose h4,
  .prose h5,
  .prose h6 {
    color: hsl(var(--foreground));
    font-weight: 700;
    line-height: 1.3;
    margin-top: 2rem;
    margin-bottom: 1rem;
  }

  .prose h1 {
    font-size: 2.25rem;
    margin-top: 0;
  }

  .prose h2 {
    font-size: 1.875rem;
    border-bottom: 2px solid hsl(var(--border));
    padding-bottom: 0.5rem;
  }

  .prose h3 {
    font-size: 1.5rem;
    color: hsl(var(--primary));
  }

  .prose h4 {
    font-size: 1.25rem;
  }

  .prose p {
    color: hsl(var(--muted-foreground));
    margin-bottom: 1.5rem;
    line-height: 1.8;
  }

  .prose strong {
    color: hsl(var(--foreground));
    font-weight: 600;
  }

  .prose a {
    color: hsl(var(--primary));
    text-decoration: underline;
    text-decoration-thickness: 2px;
    text-underline-offset: 2px;
    transition: all 0.2s ease;
  }

  .prose a:hover {
    color: hsl(var(--primary));
    text-decoration-thickness: 3px;
  }

  .prose blockquote {
    border-left: 4px solid hsl(var(--primary));
    background-color: hsl(var(--muted) / 0.3);
    padding: 1.5rem 2rem;
    margin: 2rem 0;
    border-radius: 0 0.5rem 0.5rem 0;
    font-style: italic;
    position: relative;
  }

  .prose blockquote::before {
    content: '"';
    font-size: 4rem;
    color: hsl(var(--primary) / 0.2);
    position: absolute;
    top: -0.5rem;
    left: 0.5rem;
    line-height: 1;
  }

  .prose code {
    background-color: hsl(var(--muted));
    color: hsl(var(--foreground));
    padding: 0.25rem 0.5rem;
    border-radius: 0.375rem;
    font-size: 0.875em;
    font-weight: 500;
    border: 1px solid hsl(var(--border));
  }

  .prose pre {
    background-color: hsl(var(--muted));
    border: 1px solid hsl(var(--border));
    border-radius: 0.5rem;
    padding: 1.5rem;
    overflow-x: auto;
    margin: 2rem 0;
    position: relative;
  }

  .prose pre code {
    background: none;
    border: none;
    padding: 0;
    font-size: 0.9em;
  }

  .prose ul,
  .prose ol {
    color: hsl(var(--muted-foreground));
    padding-left: 1.5rem;
    margin: 1.5rem 0;
  }

  .prose li {
    color: hsl(var(--muted-foreground));
    margin-bottom: 0.75rem;
    line-height: 1.6;
  }

  .prose li::marker {
    color: hsl(var(--primary));
    font-weight: 600;
  }

  .prose ul li::marker {
    content: '•';
  }

  .prose ol li::marker {
    font-weight: 600;
  }

  /* Enhanced table styling */
  .prose table {
    width: 100%;
    border-collapse: collapse;
    margin: 2rem 0;
    background-color: hsl(var(--card));
    border-radius: 0.5rem;
    overflow: hidden;
    box-shadow: 0 1px 3px 0 hsl(var(--border));
  }

  .prose th,
  .prose td {
    padding: 1rem;
    text-align: left;
    border-bottom: 1px solid hsl(var(--border));
  }

  .prose th {
    background-color: hsl(var(--muted));
    font-weight: 600;
    color: hsl(var(--foreground));
  }

  .prose tr:nth-child(even) {
    background-color: hsl(var(--muted) / 0.3);
  }

  .prose tr:hover {
    background-color: hsl(var(--muted) / 0.5);
  }

  /* Image styling */
  .prose img {
    border-radius: 0.5rem;
    box-shadow: 0 4px 6px -1px hsl(var(--foreground) / 0.1);
    margin: 2rem 0;
    max-width: 100%;
    height: auto;
  }

  /* Line clamp utility */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Responsive adjustments */
  @media (max-width: 768px) {
    .prose {
      font-size: 1rem;
    }

    .prose h1 {
      font-size: 1.875rem;
    }

    .prose h2 {
      font-size: 1.5rem;
    }

    .prose h3 {
      font-size: 1.25rem;
    }

    .prose blockquote {
      padding: 1rem 1.5rem;
    }

    .prose pre {
      padding: 1rem;
      font-size: 0.8em;
    }
  }
</style>