<section id='examples'>
  <div class='themes-wrapper bg-background h-screen w-full mx-auto p-0'>
    <div class='w-full h-full lg:grid lg:grid-cols-2 lg:gap-8'>
      <div class='flex items-center'>
        <div
          class='flex flex-col items-center justify-center h-full gap-6 w-[350px] mx-auto'
        >
          <div class='grid gap-2 text-center'>
            <h1 class='text-3xl font-bold'>Sign Up</h1>
            <p class='text-balance text-muted-foreground'>
              Enter your information to create an account
            </p>
          </div>

          <form
            hx-post='/auth/signup'
            hx-swap='none'
            hx-on:htmx:before-swap='handleSignupResponse(event); return false;'
            class='grid gap-4'
          >
            <div class='grid grid-cols-2 gap-8'>
              <div class='grid gap-2'>
                <label
                  class='text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70'
                  for='first-name'
                >
                  First name
                </label>
                <input
                  name='firstName'
                  class='flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50'
                  id='first-name'
                  placeholder='Max'
                  required=''
                />
              </div>

              <div class='grid gap-2'>
                <label
                  class='text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70'
                  for='last-name'
                >
                  Last name
                </label>
                <input
                  name='lastName'
                  class='flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50'
                  id='last-name'
                  placeholder='Robinson'
                  required=''
                />
              </div>
            </div>

            <div class='grid gap-2'>
              <label
                class='text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70'
                for='email'
              >
                Email
              </label>
              <input
                type='email'
                name='email'
                class='flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50'
                id='email'
                placeholder='m@example.com'
                required=''
              />
            </div>

            <div class='grid gap-2'>
              <label
                class='text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70'
                for='password'
              >
                Password
              </label>
              <input
                type='password'
                name='password'
                class='flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50'
                id='password'
                placeholder='Enter your password'
                required=''
              />
            </div>

            <div class='grid gap-2'>
              <label
                class='text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70'
                for='confirm-password'
              >
                Confirm Password
              </label>
              <input
                type='password'
                name='confirmPassword'
                class='flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50'
                id='confirm-password'
                placeholder='Confirm your password'
                required=''
              />
            </div>

            <div class='flex items-center space-x-2'>
              <input
                type='checkbox'
                name='terms'
                id='terms'
                class='h-4 w-4 rounded border border-input'
                required=''
              />
              <label
                class='text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70'
                for='terms'
              >
                I agree to the
                <a href='/pages/terms' class='underline'>Terms and Conditions</a>
              </label>
            </div>

            <button
              class='inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium text-center transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-9 px-4 py-2 w-full'
              type='submit'
              hx-indicator='this'
              hx-disabled-elt='this'
            >
              Create an account
            </button>

          </form>

          <div class='mt-4 text-center text-sm'>
            Already have an account?
            <a
              class='underline text-muted-foreground hover:text-foreground'
              href='/auth'
            >Sign in</a>
          </div>
        </div>
      </div>

      <div
        class='flex items-center justify-center h-[calc(100vh-100px)] bg-muted p-4 rounded-md overflow-hidden place-self-center'
      >
        <img
          alt='Image'
          loading='lazy'
          width='1920'
          height='1080'
          decoding='async'
          data-nimg='1'
          class='w-full h-full'
          style='color: transparent'
          src='/images/accelerator_logo.svg'
        />
      </div>
    </div>
  </div>
</section>

 <script>
   function handleSignupResponse(event) {
     const xhr = event.detail.xhr;
     const response = JSON.parse(xhr.responseText);

     if (xhr.status === 200 && response.success) {
       // Success - show toast and redirect to login
       Toast.success(response.message);
       setTimeout(() => {
         window.location.href = '/auth';
       }, 2000);
     } else if (response.error) {
       // Error - show toast
       Toast.error(response.error);
     } else if (xhr.status >= 400) {
       // Handle server errors
       Toast.error('An error occurred during signup');
     }
   }
 </script>