<div class='flex flex-col gap-4 lg:gap-6'>
  <div class='flex items-center justify-between'>
    <div class='grid gap-1'>
      <h1 class='font-heading text-2xl font-semibold dark:text-white'>Corporate
        User Management</h1>
      <p class='text-base text-muted-foreground'>Manage user roles and
        permissions across all corporate enterprises.</p>
    </div>
    <div class='flex items-center gap-2'>
      <button
        class='flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90'
      >
        <svg
          xmlns='http://www.w3.org/2000/svg'
          width='16'
          height='16'
          viewBox='0 0 24 24'
          fill='none'
          stroke='currentColor'
          stroke-width='2'
          stroke-linecap='round'
          stroke-linejoin='round'
          class='lucide lucide-user-plus'
        >
          <path d='M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2' />
          <circle cx='9' cy='7' r='4' />
          <line x1='19' y1='8' x2='19' y2='14' />
          <line x1='22' y1='11' x2='16' y2='11' />
        </svg>
        Add Corporate User
      </button>
    </div>
  </div>

  <!-- Corporate Role Management -->
  <div class='mb-8'>
    <div class='flex items-center justify-between mb-4'>
      <h3
        class='text-xl font-semibold text-gray-900 dark:text-gray-100'
      >Corporate User Roles</h3>
      <div class='flex items-center gap-2 flex-wrap sm:flex-nowrap'>
        <!-- Search Input -->
        <div class='relative'>
          <input
            type='text'
            placeholder='Search users...'
            class='pl-9 pr-4 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 focus:outline-none focus:ring-1 focus:ring-blue-500'
          />
          <div class='absolute left-2.5 top-1.5 text-gray-400'>
            <svg
              xmlns='http://www.w3.org/2000/svg'
              width='16'
              height='16'
              viewBox='0 0 24 24'
              fill='none'
              stroke='currentColor'
              stroke-width='2'
              stroke-linecap='round'
              stroke-linejoin='round'
              class='lucide lucide-search'
            >
              <circle cx='11' cy='11' r='8' />
              <path d='m21 21-4.3-4.3' />
            </svg>
          </div>
        </div>

        <div class='relative'>
          <select
            class='px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 appearance-none pr-8'
          >
            <option>All Roles</option>
            <option>Corporate Admin</option>
            <option>Enterprise Manager</option>
            <option>Project Lead</option>
            <option>Analyst</option>
            <option>Viewer</option>
          </select>
          <div
            class='pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 dark:text-gray-300'
          >
            <svg
              class='h-4 w-4'
              xmlns='http://www.w3.org/2000/svg'
              viewBox='0 0 20 20'
              fill='currentColor'
            >
              <path
                fill-rule='evenodd'
                d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z'
                clip-rule='evenodd'
              />
            </svg>
          </div>
        </div>

        <div class='relative'>
          <select
            class='px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 appearance-none pr-8'
          >
            <option>All Enterprises</option>
            <option>TechCorp Enterprises</option>
            <option>HealthCorp Enterprises</option>
            <option>FinCorp Enterprises</option>
            <option>AgriCorp Enterprises</option>
            <option>EduCorp Enterprises</option>
            <option>LogiCorp Enterprises</option>
          </select>
          <div
            class='pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 dark:text-gray-300'
          >
            <svg
              class='h-4 w-4'
              xmlns='http://www.w3.org/2000/svg'
              viewBox='0 0 20 20'
              fill='currentColor'
            >
              <path
                fill-rule='evenodd'
                d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z'
                clip-rule='evenodd'
              />
            </svg>
          </div>
        </div>

        <button
          class='px-3 py-1.5 text-sm bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center gap-1 export-btn'
        >
          <svg
            xmlns='http://www.w3.org/2000/svg'
            width='16'
            height='16'
            viewBox='0 0 24 24'
            fill='none'
            stroke='currentColor'
            stroke-width='2'
            stroke-linecap='round'
            stroke-linejoin='round'
            class='lucide lucide-download'
          >
            <path d='M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4' />
            <polyline points='7 10 12 15 17 10' />
            <line x1='12' y1='15' x2='12' y2='3' />
          </svg>
          Export
        </button>
      </div>
    </div>

    <div
      class='border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden'
    >
      <table class='min-w-full text-sm'>
        <thead class='bg-gray-50 dark:bg-gray-800'>
          <tr>
            <th
              class='py-3 px-4 text-left font-medium text-gray-700 dark:text-gray-300'
            >
              <div class='flex items-center'>
                <input
                  type='checkbox'
                  class='rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600'
                />
                <span class='ml-2'>User</span>
              </div>
            </th>
            <th
              class='py-3 px-4 text-left font-medium text-gray-700 dark:text-gray-300'
            >Corporate Role</th>
            <th
              class='py-3 px-4 text-left font-medium text-gray-700 dark:text-gray-300'
            >Enterprise Access</th>
            <th
              class='py-3 px-4 text-left font-medium text-gray-700 dark:text-gray-300'
            >Permissions</th>
            <th
              class='py-3 px-4 text-left font-medium text-gray-700 dark:text-gray-300'
            >Status</th>
            <th
              class='py-3 px-4 text-left font-medium text-gray-700 dark:text-gray-300'
            >Last Login</th>
            <th
              class='py-3 px-4 text-left font-medium text-gray-700 dark:text-gray-300'
            ></th>
          </tr>
        </thead>
        <tbody class='divide-y divide-gray-200 dark:divide-gray-700'>
          <!-- User 1 -->
          <tr
            class='hover:bg-gray-50 dark:hover:bg-gray-800/50'
            data-user-id='corp-user-1'
          >
            <td class='py-3 px-4'>
              <div class='flex items-center'>
                <input
                  type='checkbox'
                  class='rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600 mr-2'
                />
                <div
                  class='w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white text-sm font-bold mr-2'
                >
                  JS
                </div>
                <div>
                  <div class='font-medium'>John Smith</div>
                  <div
                    class='text-xs text-gray-500 dark:text-gray-400'
                  >john.smith@corporate.com</div>
                </div>
              </div>
            </td>
            <td class='py-3 px-4'>
              <select
                class='px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 role-select'
                data-user-id='corp-user-1'
              >
                <option value='Corporate Admin' selected>Corporate Admin</option>
                <option value='Enterprise Manager'>Enterprise Manager</option>
                <option value='Project Lead'>Project Lead</option>
                <option value='Analyst'>Analyst</option>
                <option value='Viewer'>Viewer</option>
              </select>
            </td>
            <td class='py-3 px-4'>
              <div class='flex -space-x-2'>
                <div
                  class='w-6 h-6 rounded-full bg-gray-300 border-2 border-white dark:border-gray-800 flex items-center justify-center text-xs font-bold text-gray-700'
                  title='All Enterprises'
                >ALL</div>
              </div>
            </td>
            <td class='py-3 px-4'>
              <div class='flex flex-wrap gap-1'>
                <span
                  class='px-2 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 rounded'
                >Full Access</span>
                <span
                  class='px-2 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 rounded'
                >Admin</span>
              </div>
            </td>
            <td class='py-3 px-4'>
              <span
                class='px-2 py-1 text-xs rounded-full bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400'
              >
                Active
              </span>
            </td>
            <td class='py-3 px-4 text-gray-700 dark:text-gray-300'>2 hours ago</td>
            <td class='py-3 px-4'>
              <div class='flex gap-1'>
                <button
                  class='p-1.5 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 edit-permissions-btn'
                  data-user-id='corp-user-1'
                  title='Edit Permissions'
                >
                  <svg
                    xmlns='http://www.w3.org/2000/svg'
                    width='14'
                    height='14'
                    viewBox='0 0 24 24'
                    fill='none'
                    stroke='currentColor'
                    stroke-width='2'
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    class='lucide lucide-settings'
                  >
                    <circle cx='12' cy='12' r='3' />
                    <path
                      d='M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z'
                    />
                  </svg>
                </button>
                <button
                  class='p-1.5 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700'
                  title='More options'
                >
                  <svg
                    xmlns='http://www.w3.org/2000/svg'
                    width='14'
                    height='14'
                    viewBox='0 0 24 24'
                    fill='none'
                    stroke='currentColor'
                    stroke-width='2'
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    class='lucide lucide-more-horizontal'
                  >
                    <circle cx='12' cy='12' r='1' />
                    <circle cx='19' cy='12' r='1' />
                    <circle cx='5' cy='12' r='1' />
                  </svg>
                </button>
              </div>
            </td>
          </tr>

          <!-- User 2 -->
          <tr
            class='hover:bg-gray-50 dark:hover:bg-gray-800/50'
            data-user-id='corp-user-2'
          >
            <td class='py-3 px-4'>
              <div class='flex items-center'>
                <input
                  type='checkbox'
                  class='rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600 mr-2'
                />
                <div
                  class='w-8 h-8 rounded-full bg-green-500 flex items-center justify-center text-white text-sm font-bold mr-2'
                >
                  JD
                </div>
                <div>
                  <div class='font-medium'>Jane Doe</div>
                  <div
                    class='text-xs text-gray-500 dark:text-gray-400'
                  >jane.doe@corporate.com</div>
                </div>
              </div>
            </td>
            <td class='py-3 px-4'>
              <select
                class='px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 role-select'
                data-user-id='corp-user-2'
              >
                <option value='Corporate Admin'>Corporate Admin</option>
                <option value='Enterprise Manager' selected>Enterprise Manager</option>
                <option value='Project Lead'>Project Lead</option>
                <option value='Analyst'>Analyst</option>
                <option value='Viewer'>Viewer</option>
              </select>
            </td>
            <td class='py-3 px-4'>
              <div class='flex -space-x-2'>
                <div
                  class='w-6 h-6 rounded-full bg-gray-300 border-2 border-white dark:border-gray-800 flex items-center justify-center text-xs font-bold text-gray-700'
                  title='TechCorp Enterprises'
                >TC</div>
                <div
                  class='w-6 h-6 rounded-full bg-gray-300 border-2 border-white dark:border-gray-800 flex items-center justify-center text-xs font-bold text-gray-700'
                  title='HealthCorp Enterprises'
                >HC</div>
                <div
                  class='w-6 h-6 rounded-full bg-gray-200 border-2 border-white dark:border-gray-800 flex items-center justify-center text-xs text-gray-600'
                >+2</div>
              </div>
            </td>
            <td class='py-3 px-4'>
              <div class='flex flex-wrap gap-1'>
                <span
                  class='px-2 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 rounded'
                >Read</span>
                <span
                  class='px-2 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 rounded'
                >Write</span>
                <span
                  class='px-2 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 rounded'
                >Manage</span>
              </div>
            </td>
            <td class='py-3 px-4'>
              <span
                class='px-2 py-1 text-xs rounded-full bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400'
              >
                Active
              </span>
            </td>
            <td class='py-3 px-4 text-gray-700 dark:text-gray-300'>1 day ago</td>
            <td class='py-3 px-4'>
              <div class='flex gap-1'>
                <button
                  class='p-1.5 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 edit-permissions-btn'
                  data-user-id='corp-user-2'
                  title='Edit Permissions'
                >
                  <svg
                    xmlns='http://www.w3.org/2000/svg'
                    width='14'
                    height='14'
                    viewBox='0 0 24 24'
                    fill='none'
                    stroke='currentColor'
                    stroke-width='2'
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    class='lucide lucide-settings'
                  >
                    <circle cx='12' cy='12' r='3' />
                    <path
                      d='M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z'
                    />
                  </svg>
                </button>
                <button
                  class='p-1.5 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700'
                  title='More options'
                >
                  <svg
                    xmlns='http://www.w3.org/2000/svg'
                    width='14'
                    height='14'
                    viewBox='0 0 24 24'
                    fill='none'
                    stroke='currentColor'
                    stroke-width='2'
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    class='lucide lucide-more-horizontal'
                  >
                    <circle cx='12' cy='12' r='1' />
                    <circle cx='19' cy='12' r='1' />
                    <circle cx='5' cy='12' r='1' />
                  </svg>
                </button>
              </div>
            </td>
          </tr>

          <!-- User 3 -->
          <tr
            class='hover:bg-gray-50 dark:hover:bg-gray-800/50'
            data-user-id='corp-user-3'
          >
            <td class='py-3 px-4'>
              <div class='flex items-center'>
                <input
                  type='checkbox'
                  class='rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600 mr-2'
                />
                <div
                  class='w-8 h-8 rounded-full bg-purple-500 flex items-center justify-center text-white text-sm font-bold mr-2'
                >
                  BW
                </div>
                <div>
                  <div class='font-medium'>Bob Wilson</div>
                  <div
                    class='text-xs text-gray-500 dark:text-gray-400'
                  >bob.wilson@corporate.com</div>
                </div>
              </div>
            </td>
            <td class='py-3 px-4'>
              <select
                class='px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 role-select'
                data-user-id='corp-user-3'
              >
                <option value='Corporate Admin'>Corporate Admin</option>
                <option value='Enterprise Manager'>Enterprise Manager</option>
                <option value='Project Lead' selected>Project Lead</option>
                <option value='Analyst'>Analyst</option>
                <option value='Viewer'>Viewer</option>
              </select>
            </td>
            <td class='py-3 px-4'>
              <div class='flex -space-x-2'>
                <div
                  class='w-6 h-6 rounded-full bg-gray-300 border-2 border-white dark:border-gray-800 flex items-center justify-center text-xs font-bold text-gray-700'
                  title='TechCorp Enterprises'
                >TC</div>
                <div
                  class='w-6 h-6 rounded-full bg-gray-300 border-2 border-white dark:border-gray-800 flex items-center justify-center text-xs font-bold text-gray-700'
                  title='LogiCorp Enterprises'
                >LC</div>
              </div>
            </td>
            <td class='py-3 px-4'>
              <div class='flex flex-wrap gap-1'>
                <span
                  class='px-2 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 rounded'
                >Read</span>
                <span
                  class='px-2 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 rounded'
                >Write</span>
                <span
                  class='px-2 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 rounded'
                >Project Mgmt</span>
              </div>
            </td>
            <td class='py-3 px-4'>
              <span
                class='px-2 py-1 text-xs rounded-full bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400'
              >
                Active
              </span>
            </td>
            <td class='py-3 px-4 text-gray-700 dark:text-gray-300'>3 hours ago</td>
            <td class='py-3 px-4'>
              <div class='flex gap-1'>
                <button
                  class='p-1.5 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 edit-permissions-btn'
                  data-user-id='corp-user-3'
                  title='Edit Permissions'
                >
                  <svg
                    xmlns='http://www.w3.org/2000/svg'
                    width='14'
                    height='14'
                    viewBox='0 0 24 24'
                    fill='none'
                    stroke='currentColor'
                    stroke-width='2'
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    class='lucide lucide-settings'
                  >
                    <circle cx='12' cy='12' r='3' />
                    <path
                      d='M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z'
                    />
                  </svg>
                </button>
                <button
                  class='p-1.5 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700'
                  title='More options'
                >
                  <svg
                    xmlns='http://www.w3.org/2000/svg'
                    width='14'
                    height='14'
                    viewBox='0 0 24 24'
                    fill='none'
                    stroke='currentColor'
                    stroke-width='2'
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    class='lucide lucide-more-horizontal'
                  >
                    <circle cx='12' cy='12' r='1' />
                    <circle cx='19' cy='12' r='1' />
                    <circle cx='5' cy='12' r='1' />
                  </svg>
                </button>
              </div>
            </td>
          </tr>

          <!-- User 4 -->
          <tr
            class='hover:bg-gray-50 dark:hover:bg-gray-800/50'
            data-user-id='corp-user-4'
          >
            <td class='py-3 px-4'>
              <div class='flex items-center'>
                <input
                  type='checkbox'
                  class='rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600 mr-2'
                />
                <div
                  class='w-8 h-8 rounded-full bg-red-500 flex items-center justify-center text-white text-sm font-bold mr-2'
                >
                  EC
                </div>
                <div>
                  <div class='font-medium'>Dr. Emily Carter</div>
                  <div
                    class='text-xs text-gray-500 dark:text-gray-400'
                  >emily.carter@corporate.com</div>
                </div>
              </div>
            </td>
            <td class='py-3 px-4'>
              <select
                class='px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 role-select'
                data-user-id='corp-user-4'
              >
                <option value='Corporate Admin'>Corporate Admin</option>
                <option value='Enterprise Manager'>Enterprise Manager</option>
                <option value='Project Lead'>Project Lead</option>
                <option value='Analyst' selected>Analyst</option>
                <option value='Viewer'>Viewer</option>
              </select>
            </td>
            <td class='py-3 px-4'>
              <div class='flex -space-x-2'>
                <div
                  class='w-6 h-6 rounded-full bg-gray-300 border-2 border-white dark:border-gray-800 flex items-center justify-center text-xs font-bold text-gray-700'
                  title='HealthCorp Enterprises'
                >HC</div>
                <div
                  class='w-6 h-6 rounded-full bg-gray-300 border-2 border-white dark:border-gray-800 flex items-center justify-center text-xs font-bold text-gray-700'
                  title='EduCorp Enterprises'
                >EC</div>
              </div>
            </td>
            <td class='py-3 px-4'>
              <div class='flex flex-wrap gap-1'>
                <span
                  class='px-2 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 rounded'
                >Read</span>
                <span
                  class='px-2 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 rounded'
                >Analytics</span>
              </div>
            </td>
            <td class='py-3 px-4'>
              <span
                class='px-2 py-1 text-xs rounded-full bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400'
              >
                Active
              </span>
            </td>
            <td class='py-3 px-4 text-gray-700 dark:text-gray-300'>5 hours ago</td>
            <td class='py-3 px-4'>
              <div class='flex gap-1'>
                <button
                  class='p-1.5 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 edit-permissions-btn'
                  data-user-id='corp-user-4'
                  title='Edit Permissions'
                >
                  <svg
                    xmlns='http://www.w3.org/2000/svg'
                    width='14'
                    height='14'
                    viewBox='0 0 24 24'
                    fill='none'
                    stroke='currentColor'
                    stroke-width='2'
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    class='lucide lucide-settings'
                  >
                    <circle cx='12' cy='12' r='3' />
                    <path
                      d='M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z'
                    />
                  </svg>
                </button>
                <button
                  class='p-1.5 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700'
                  title='More options'
                >
                  <svg
                    xmlns='http://www.w3.org/2000/svg'
                    width='14'
                    height='14'
                    viewBox='0 0 24 24'
                    fill='none'
                    stroke='currentColor'
                    stroke-width='2'
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    class='lucide lucide-more-horizontal'
                  >
                    <circle cx='12' cy='12' r='1' />
                    <circle cx='19' cy='12' r='1' />
                    <circle cx='5' cy='12' r='1' />
                  </svg>
                </button>
              </div>
            </td>
          </tr>

          <!-- User 5 -->
          <tr
            class='hover:bg-gray-50 dark:hover:bg-gray-800/50'
            data-user-id='corp-user-5'
          >
            <td class='py-3 px-4'>
              <div class='flex items-center'>
                <input
                  type='checkbox'
                  class='rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600 mr-2'
                />
                <div
                  class='w-8 h-8 rounded-full bg-indigo-500 flex items-center justify-center text-white text-sm font-bold mr-2'
                >
                  TH
                </div>
                <div>
                  <div class='font-medium'>Tom Harris</div>
                  <div
                    class='text-xs text-gray-500 dark:text-gray-400'
                  >tom.harris@corporate.com</div>
                </div>
              </div>
            </td>
            <td class='py-3 px-4'>
              <select
                class='px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 role-select'
                data-user-id='corp-user-5'
              >
                <option value='Corporate Admin'>Corporate Admin</option>
                <option value='Enterprise Manager'>Enterprise Manager</option>
                <option value='Project Lead'>Project Lead</option>
                <option value='Analyst'>Analyst</option>
                <option value='Viewer' selected>Viewer</option>
              </select>
            </td>
            <td class='py-3 px-4'>
              <div class='flex -space-x-2'>
                <div
                  class='w-6 h-6 rounded-full bg-gray-300 border-2 border-white dark:border-gray-800 flex items-center justify-center text-xs font-bold text-gray-700'
                  title='FinCorp Enterprises'
                >FC</div>
              </div>
            </td>
            <td class='py-3 px-4'>
              <div class='flex flex-wrap gap-1'>
                <span
                  class='px-2 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 rounded'
                >Read Only</span>
              </div>
            </td>
            <td class='py-3 px-4'>
              <span
                class='px-2 py-1 text-xs rounded-full bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300'
              >
                Inactive
              </span>
            </td>
            <td class='py-3 px-4 text-gray-700 dark:text-gray-300'>2 weeks ago</td>
            <td class='py-3 px-4'>
              <div class='flex gap-1'>
                <button
                  class='p-1.5 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 edit-permissions-btn'
                  data-user-id='corp-user-5'
                  title='Edit Permissions'
                >
                  <svg
                    xmlns='http://www.w3.org/2000/svg'
                    width='14'
                    height='14'
                    viewBox='0 0 24 24'
                    fill='none'
                    stroke='currentColor'
                    stroke-width='2'
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    class='lucide lucide-settings'
                  >
                    <circle cx='12' cy='12' r='3' />
                    <path
                      d='M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z'
                    />
                  </svg>
                </button>
                <button
                  class='p-1.5 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700'
                  title='More options'
                >
                  <svg
                    xmlns='http://www.w3.org/2000/svg'
                    width='14'
                    height='14'
                    viewBox='0 0 24 24'
                    fill='none'
                    stroke='currentColor'
                    stroke-width='2'
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    class='lucide lucide-more-horizontal'
                  >
                    <circle cx='12' cy='12' r='1' />
                    <circle cx='19' cy='12' r='1' />
                    <circle cx='5' cy='12' r='1' />
                  </svg>
                </button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Permissions Modal (Hidden by default) -->
    <div
      id='corporate-permissions-modal'
      class='fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50 p-4'
    >
      <div class='bg-white dark:bg-gray-800 rounded-lg w-full max-w-md'>
        <div
          class='p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center'
        >
          <h3 class='text-lg font-semibold'>Edit Corporate Permissions</h3>
          <button
            id='close-corporate-permissions-modal'
            class='text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200'
          >
            <svg
              xmlns='http://www.w3.org/2000/svg'
              width='20'
              height='20'
              viewBox='0 0 24 24'
              fill='none'
              stroke='currentColor'
              stroke-width='2'
              stroke-linecap='round'
              stroke-linejoin='round'
              class='lucide lucide-x'
            >
              <path d='M18 6 6 18' />
              <path d='m6 6 12 12' />
            </svg>
          </button>
        </div>
        <div class='p-4'>
          <div class='mb-4'>
            <label
              class='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2'
            >User</label>
            <div
              id='corporate-modal-user-name'
              class='text-gray-900 dark:text-gray-100 font-medium'
            ></div>
          </div>

          <div class='mb-4'>
            <label
              class='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2'
            >Corporate Role</label>
            <select
              id='corporate-modal-user-role'
              class='w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700'
            >
              <option value='Corporate Admin'>Corporate Admin</option>
              <option value='Enterprise Manager'>Enterprise Manager</option>
              <option value='Project Lead'>Project Lead</option>
              <option value='Analyst'>Analyst</option>
              <option value='Viewer'>Viewer</option>
            </select>
          </div>

          <div class='mb-4'>
            <label
              class='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2'
            >Enterprise Access</label>
            <div
              class='space-y-2 max-h-32 overflow-y-auto'
              id='enterprise-access-list'
            >
              <label class='flex items-center'>
                <input
                  type='checkbox'
                  value='all'
                  class='rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600 mr-2'
                />
                <span class='text-sm text-gray-700 dark:text-gray-300'>All
                  Enterprises</span>
              </label>
              <label class='flex items-center'>
                <input
                  type='checkbox'
                  value='techcorp'
                  class='rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600 mr-2'
                />
                <span class='text-sm text-gray-700 dark:text-gray-300'>TechCorp
                  Enterprises</span>
              </label>
              <label class='flex items-center'>
                <input
                  type='checkbox'
                  value='healthcorp'
                  class='rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600 mr-2'
                />
                <span
                  class='text-sm text-gray-700 dark:text-gray-300'
                >HealthCorp Enterprises</span>
              </label>
              <label class='flex items-center'>
                <input
                  type='checkbox'
                  value='fincorp'
                  class='rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600 mr-2'
                />
                <span class='text-sm text-gray-700 dark:text-gray-300'>FinCorp
                  Enterprises</span>
              </label>
              <label class='flex items-center'>
                <input
                  type='checkbox'
                  value='agricorp'
                  class='rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600 mr-2'
                />
                <span class='text-sm text-gray-700 dark:text-gray-300'>AgriCorp
                  Enterprises</span>
              </label>
              <label class='flex items-center'>
                <input
                  type='checkbox'
                  value='educorp'
                  class='rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600 mr-2'
                />
                <span class='text-sm text-gray-700 dark:text-gray-300'>EduCorp
                  Enterprises</span>
              </label>
              <label class='flex items-center'>
                <input
                  type='checkbox'
                  value='logicorp'
                  class='rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600 mr-2'
                />
                <span class='text-sm text-gray-700 dark:text-gray-300'>LogiCorp
                  Enterprises</span>
              </label>
            </div>
          </div>

          <div class='mb-4'>
            <label
              class='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2'
            >Permissions</label>
            <div class='space-y-2' id='corporate-permissions-checklist'>
              <label class='flex items-center'>
                <input
                  type='checkbox'
                  value='read'
                  class='rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600'
                />
                <span
                  class='ml-2 text-sm text-gray-700 dark:text-gray-300'
                >Read</span>
              </label>
              <label class='flex items-center'>
                <input
                  type='checkbox'
                  value='write'
                  class='rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600'
                />
                <span
                  class='ml-2 text-sm text-gray-700 dark:text-gray-300'
                >Write</span>
              </label>
              <label class='flex items-center'>
                <input
                  type='checkbox'
                  value='manage'
                  class='rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600'
                />
                <span
                  class='ml-2 text-sm text-gray-700 dark:text-gray-300'
                >Manage Enterprises</span>
              </label>
              <label class='flex items-center'>
                <input
                  type='checkbox'
                  value='analytics'
                  class='rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600'
                />
                <span class='ml-2 text-sm text-gray-700 dark:text-gray-300'>View
                  Analytics</span>
              </label>
              <label class='flex items-center'>
                <input
                  type='checkbox'
                  value='admin'
                  class='rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600'
                />
                <span
                  class='ml-2 text-sm text-gray-700 dark:text-gray-300'
                >Corporate Admin</span>
              </label>
            </div>
          </div>
        </div>
        <div
          class='p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-2'
        >
          <button
            id='cancel-corporate-permissions'
            class='px-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700'
          >
            Cancel
          </button>
          <button
            id='save-corporate-permissions'
            class='px-4 py-2 text-sm bg-primary text-primary-foreground rounded-md hover:bg-primary/90'
          >
            Save
          </button>
        </div>
      </div>
    </div>

    <!-- Data Export Modal -->
    <div
      id='corporate-export-modal'
      class='fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50 p-4'
    >
      <div class='bg-white dark:bg-gray-800 rounded-lg w-full max-w-md'>
        <div
          class='p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center'
        >
          <h3 class='text-lg font-semibold'>Export Corporate Data</h3>
          <button
            id='close-corporate-export-modal'
            class='text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200'
          >
            <svg
              xmlns='http://www.w3.org/2000/svg'
              width='20'
              height='20'
              viewBox='0 0 24 24'
              fill='none'
              stroke='currentColor'
              stroke-width='2'
              stroke-linecap='round'
              stroke-linejoin='round'
              class='lucide lucide-x'
            >
              <path d='M18 6 6 18' />
              <path d='m6 6 12 12' />
            </svg>
          </button>
        </div>
        <div class='p-4'>
          <div class='mb-4'>
            <label
              class='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2'
            >Export Section</label>
            <select
              id='corporate-export-section'
              class='w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700'
            >
              <option value='users'>Corporate Users</option>
              <option value='enterprises'>All Enterprises</option>
              <option value='projects'>All Projects</option>
              <option value='analytics'>Corporate Analytics</option>
              <option value='all'>All Corporate Data</option>
            </select>
          </div>

          <div class='mb-4'>
            <label
              class='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2'
            >Format</label>
            <div class='grid grid-cols-3 gap-2' id='corporate-format-options'>
              <label
                class='flex items-center justify-center p-2 border border-gray-300 dark:border-gray-600 rounded-md cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700'
              >
                <input
                  type='radio'
                  name='corporate-format'
                  value='csv'
                  class='mr-2'
                  checked
                />
                <span class='text-sm'>CSV</span>
              </label>
              <label
                class='flex items-center justify-center p-2 border border-gray-300 dark:border-gray-600 rounded-md cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700'
              >
                <input
                  type='radio'
                  name='corporate-format'
                  value='excel'
                  class='mr-2'
                />
                <span class='text-sm'>Excel</span>
              </label>
              <label
                class='flex items-center justify-center p-2 border border-gray-300 dark:border-gray-600 rounded-md cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700'
              >
                <input
                  type='radio'
                  name='corporate-format'
                  value='pdf'
                  class='mr-2'
                />
                <span class='text-sm'>PDF</span>
              </label>
            </div>
          </div>

          <div class='mb-4'>
            <label class='flex items-center'>
              <input
                type='checkbox'
                id='corporate-include-filters'
                class='rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600'
              />
              <span
                class='ml-2 text-sm text-gray-700 dark:text-gray-300'
              >Include current filters</span>
            </label>
          </div>
        </div>
        <div
          class='p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-2'
        >
          <button
            id='cancel-corporate-export'
            class='px-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700'
          >
            Cancel
          </button>
          <button
            id='start-corporate-export'
            class='px-4 py-2 text-sm bg-primary text-primary-foreground rounded-md hover:bg-primary/90 flex items-center gap-2'
          >
            <svg
              xmlns='http://www.w3.org/2000/svg'
              width='16'
              height='16'
              viewBox='0 0 24 24'
              fill='none'
              stroke='currentColor'
              stroke-width='2'
              stroke-linecap='round'
              stroke-linejoin='round'
              class='lucide lucide-download'
            >
              <path d='M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4' />
              <polyline points='7 10 12 15 17 10' />
              <line x1='12' y1='15' x2='12' y2='3' />
            </svg>
            Export
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  // Function to handle corporate user management function
  initCorporateUserManagement() { // Handle add corporate user button const
  addUserBtn = document.querySelector('button[title="Add Corporate User"]'); if
  (addUserBtn) { addUserBtn.addEventListener('click', function() { // Open user
  creation modal or navigate to creation page console.log('Adding new corporate
  user...'); // In a real implementation, this would open a modal or navigate to
  a form }); } // Initialize permissions modal initCorporatePermissionsModal();
  // Initialize data export functionality initCorporateExportFunctionality(); }
  // Initialize corporate permissions modal function
  initCorporatePermissionsModal() { // Handle edit permissions buttons
  document.querySelectorAll('.edit-permissions-btn').forEach(button => {
  button.addEventListener('click', function() { const userId =
  this.dataset.userId; const userRow =
  document.querySelector(`tr[data-user-id="${userId}"]`); const userName =
  userRow.querySelector('td:first-child .font-medium').textContent; const
  userRole = userRow.querySelector('.role-select').value;
  document.getElementById('corporate-modal-user-name').textContent = userName;
  document.getElementById('corporate-modal-user-role').value = userRole; // In a
  real implementation, we would load the user's permissions and enterprise
  access here // For now, just set some sample permissions based on role const
  permissionsChecklist =
  document.getElementById('corporate-permissions-checklist'); const
  enterpriseAccessList = document.getElementById('enterprise-access-list');
  const checkboxes =
  permissionsChecklist.querySelectorAll('input[type="checkbox"]'); const
  enterpriseCheckboxes =
  enterpriseAccessList.querySelectorAll('input[type="checkbox"]'); // Reset all
  checkboxes.forEach(checkbox => checkbox.checked = false);
  enterpriseCheckboxes.forEach(checkbox => checkbox.checked = false); // Set
  based on role if (userRole === 'Corporate Admin') {
  checkboxes.forEach(checkbox => checkbox.checked = true);
  enterpriseCheckboxes.forEach(checkbox => { if (checkbox.value === 'all')
  checkbox.checked = true; }); } else if (userRole === 'Enterprise Manager') {
  ['read', 'write', 'manage'].forEach(perm => { const checkbox =
  permissionsChecklist.querySelector(`input[value="${perm}"]`); if (checkbox)
  checkbox.checked = true; }); ['techcorp', 'healthcorp'].forEach(ent => { const
  checkbox = enterpriseAccessList.querySelector(`input[value="${ent}"]`); if
  (checkbox) checkbox.checked = true; }); } else if (userRole === 'Project
  Lead') { ['read', 'write'].forEach(perm => { const checkbox =
  permissionsChecklist.querySelector(`input[value="${perm}"]`); if (checkbox)
  checkbox.checked = true; }); ['techcorp', 'logicorp'].forEach(ent => { const
  checkbox = enterpriseAccessList.querySelector(`input[value="${ent}"]`); if
  (checkbox) checkbox.checked = true; }); } else if (userRole === 'Analyst') {
  ['read', 'analytics'].forEach(perm => { const checkbox =
  permissionsChecklist.querySelector(`input[value="${perm}"]`); if (checkbox)
  checkbox.checked = true; }); ['healthcorp', 'educorp'].forEach(ent => { const
  checkbox = enterpriseAccessList.querySelector(`input[value="${ent}"]`); if
  (checkbox) checkbox.checked = true; }); } else if (userRole === 'Viewer') {
  const checkbox = permissionsChecklist.querySelector('input[value="read"]'); if
  (checkbox) checkbox.checked = true; const entCheckbox =
  enterpriseAccessList.querySelector('input[value="fincorp"]'); if (entCheckbox)
  entCheckbox.checked = true; }
  document.getElementById('corporate-permissions-modal').classList.remove('hidden');
  }); }); // Close corporate permissions modal
  document.getElementById('close-corporate-permissions-modal').addEventListener('click',
  function() {
  document.getElementById('corporate-permissions-modal').classList.add('hidden');
  });
  document.getElementById('cancel-corporate-permissions').addEventListener('click',
  function() {
  document.getElementById('corporate-permissions-modal').classList.add('hidden');
  }); // Handle save corporate permissions
  document.getElementById('save-corporate-permissions').addEventListener('click',
  function() { const userId =
  document.querySelector('tr[data-user-id]').dataset.userId; // This would be
  the current user being edited const newRole =
  document.getElementById('corporate-modal-user-role').value; const permissions
  = Array.from(document.querySelectorAll('#corporate-permissions-checklist
  input:checked')) .map(checkbox => checkbox.value); const enterpriseAccess =
  Array.from(document.querySelectorAll('#enterprise-access-list input:checked'))
  .map(checkbox => checkbox.value); console.log(`Updating corporate user
  ${userId} to role ${newRole} with permissions:`, permissions, 'and enterprise
  access:', enterpriseAccess); // In a real implementation, this would update
  the user's permissions // For now, just show a success message and close the
  modal alert(`Corporate permissions updated for user. Role: ${newRole},
  Permissions: ${permissions.join(', ')}, Enterprise Access:
  ${enterpriseAccess.join(', ')}`);
  document.getElementById('corporate-permissions-modal').classList.add('hidden');
  }); } // Initialize corporate data export functionality function
  initCorporateExportFunctionality() { const exportButtons =
  document.querySelectorAll('.export-btn, [id*="corporate-export"],
  [class*="export"]'); // Add event listeners to all export buttons
  exportButtons.forEach(button => { button.addEventListener('click', function()
  {
  document.getElementById('corporate-export-modal').classList.remove('hidden');
  }); }); // Close corporate export modal
  document.getElementById('close-corporate-export-modal').addEventListener('click',
  function() {
  document.getElementById('corporate-export-modal').classList.add('hidden'); });
  document.getElementById('cancel-corporate-export').addEventListener('click',
  function() {
  document.getElementById('corporate-export-modal').classList.add('hidden'); });
  // Handle corporate export start
  document.getElementById('start-corporate-export').addEventListener('click',
  function() { const section =
  document.getElementById('corporate-export-section').value; const format =
  document.querySelector('input[name="corporate-format"]:checked').value; const
  includeFilters = document.getElementById('corporate-include-filters').checked;
  console.log(`Exporting corporate ${section} data in ${format} format. Include
  filters: ${includeFilters}`); // In a real implementation, this would trigger
  the actual export // For now, just show a success message and close the modal
  alert(`Corporate export started: ${section} data as ${format.toUpperCase()}`);
  document.getElementById('corporate-export-modal').classList.add('hidden'); });
  } // Initialize when page loads document.addEventListener('DOMContentLoaded',
  initCorporateUserManagement);
</script>